{% comment %}
  Section: $name
{% endcomment %}

<div class="$name-section" data-section-id="{{ section.id }}">
  
  {% for block in section.blocks %}
  {% assign alt_text = block.settings.title | escape %}

  <div class="item" {{ block.shopify_attributes }}>
    {% if block.settings.image != blank %}
      {{
        block.settings.image
        | image_url: width: 300
        | image_tag:
          widths: '150, 300, 450',
          sizes: '(max-width: 768px) 150px, 300px',
          alt: alt_text,
          loading: 'lazy',
          class: 'item-image'
      }}
    {% endif %}

    <h3>{{ block.settings.title }}</h3>
    <p>{{ block.settings.text }}</p>
  </div>
{% endfor %}
</div>

<style>
  .item { padding: 1rem; margin: .5rem; border-radius: .5rem; }
</style>

{% schema %}
{
  "name": "$name",
  "settings": [],
  "blocks": [
    {
      "type": "item",
      "name": "Item",
      "settings": [
        { "type": "text", "id": "title", "label": "Title", "default": "Item Title" },
        { "type": "textarea", "id": "text", "label": "Text", "default": "Description" },
        { "type": "color", "id": "color", "label": "Background Color", "default": "#FFFFFF" },
        { "type": "image_picker", "id": "image", "label": "Image" }
      ]
    }
  ],
  "presets": [
    {
      "name": "Default $name",
      "category": "Featured",
      "blocks": [
        { "type": "item", "settings": { "title": "Item 1", "text": "Description", "color": "#FFF", "image": "" } },
        { "type": "item", "settings": { "title": "Item 2", "text": "Description", "color": "#FFF", "image": "" } }
      ]
    }
  ]
}
{% endschema %}
